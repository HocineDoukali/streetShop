{{define "cart"}}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Panier</title>
    <link rel="stylesheet" href="/static/css/StreetShop.css">
</head>
<body>
    <header class="navbar">
        <ul class="nav-links">
            <li><a href="/StreetShop">Accueil</a></li>
            <li><a href="/add">Ajouter</a></li>
            <li><a href="/cart">Panier</a></li>
        </ul>
        <div class="logo">
            <img src="/static/img/logo/1.png" alt="Logo StreetShop" class="logo-img">
        </div>
    </header>

    <div class="container">
        <h1>Mon Panier</h1>
        {{if .Items}}
        <table>
            <tr>
                <th>Produit</th>
                <th>Quantité</th>
                <th>Prix</th>
                <th>Action</th>
            </tr>
            {{range .Items}}
            <tr>
                <td>{{.Product.Name}}</td>
                <td>{{.Quantity}}</td>
                <td>
                    {{if .Product.Promo}}
                        {{.Product.PromoPrice}}€ x {{.Quantity}} = {{mul .Product.PromoPrice .Quantity}}€
                    {{else}}
                        {{.Product.Price}}€ x {{.Quantity}} = {{mul .Product.Price .Quantity}}€
                    {{end}}
                </td>
                <td>
                    <form action="/remove-from-cart" method="POST">
                        <input type="hidden" name="product_id" value="{{.Product.ID}}">
                        <button type="submit" class="btn-red">Supprimer</button>
                    </form>
                </td>
            </tr>
            {{end}}
        </table>
        <h2>Total : {{.Total}}€</h2>
        {{else}}
        <p>Votre panier est vide.</p>
        {{end}}
        <a href="/StreetShop" class="btn">← Retour aux produits</a>
    </div>
</body>
</html>
{{end}}
